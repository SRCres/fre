!function r(t,e,n){function a(o,i){if(!e[o]){if(!t[o]){var c="function"==typeof require&&require;if(!i&&c)return c(o,!0);if(u)return u(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=e[o]={exports:{}};t[o][0].call(l.exports,function(r){var e=t[o][1][r];return a(e?e:r)},l,l.exports,r,t,e,n)}return e[o].exports}for(var u="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(r,t,e){"use strict";window.fre=Object.create(null,{version:{value:"0.0.1",enumerable:!0},error:{value:function(){return window.console&&window.console.error?window.console.error.bind(window.console):function(){}},enumerable:!0},loader:{value:r("./loader/loader"),enumerable:!0},math:{value:r("./math/math"),enumerable:!0},gl:{value:r("./gl/gl"),enumerable:!0}}),Object.preventExtensions(window.fre)},{"./gl/gl":4,"./loader/loader":9,"./math/math":10}],2:[function(r,t,e){"use strict";var n=Object.create(null,{name:{writable:!0,enumerable:!0},type:{writable:!0,enumerable:!0},size:{writable:!0,enumerable:!0},index:{writable:!0,enumerable:!0},set:{writable:!0,enumerable:!0},setPointer:{writable:!0,enumerable:!0}});Object.preventExtensions(n),t.exports=n},{}],3:[function(r,t,e){"use strict";var n=Object.create(null,{target:{writable:!0,enumerable:!0},webGLBuffer:{writable:!0,enumerable:!0},set:{value:function(r,t){webGL.bindBuffer(this.target,this.webGLBuffer),webGL.bufferSubData(this.target,r,t)},enumerable:!0}});Object.preventExtensions(n),t.exports=n},{}],4:[function(r,t,e){"use strict";var n=Object.create(null,{getWebGLContext:{value:function(r,t){var e=null;try{e=r.getContext("webgl",t)||r.getContext("experimental-webgl",t)}catch(n){}return e||(r.innerText="No se puede inicializar WebGL. Tu navegador no es compatible."),e},enumerable:!0},getShader:{value:function(r,t,e){var n;n=t instanceof HTMLScriptElement?fre.gl.createShaderWithScript(r,t,e):fre.gl.createShader(r,t,e);var a=Object.create(fre.gl.shader);return a.webGLShader=n,a},enumerable:!0},createShader:{value:function(r,t,e){var n=r.createShader(e);if(!n)return fre.error("Incapaz de crear el webGLShader."),null;r.shaderSource(n,t),r.compileShader(n);var a=r.getShaderParameter(n,r.COMPILE_STATUS);if(!a){var u=r.getShaderInfoLog(n,r.COMPILE_STATUS);return fre.error("Error al compilar el webGLShader: "+u),r.deleteShader(n),null}return n},enumerable:!0},createShaderWithScript:{value:function(r,t,e){if(!t)return fre.error("Error: elemento script desconocido."),null;var a=t.text;return e||("x-shader/x-vertex"==t.type&&(e=r.VERTEX_SHADER),"x-shader/x-fragment"==t.type&&(e=r.FRAGMENT_SHADER)),e!==r.VERTEX_SHADER&&e!==r.FRAGMENT_SHADER?(fre.error("Error: tipo de webGLShader desconocido."),null):fre.gl.createShader(n,a,e)},enumerable:!0},getProgram:{value:function(r,t){for(var e=[],n=0;n<t.length;n++){var a,u=t[n],o=fre.gl.shader.types[n];if(a="object"==typeof u?u:"string"==typeof u?fre.gl.getShader(r,u,o):fre.gl.getShader(r,u),!a)return null;e.push(a)}var i=fre.gl.createProgram(r,e),c=Object.create(fre.gl.program);return c.shaders=e,c.attributes=fre.gl.getAttributesCollection(r,i),c.uniforms=fre.gl.getUniformsCollection(r,i),c.webGLProgram=i,c},enumerable:!0},createProgram:{value:function(r,t){var e=r.createProgram();t.forEach(function(t){r.attachShader(e,t.webGLShader)}),r.linkProgram(e);var n=r.getProgramParameter(e,r.LINK_STATUS);if(!n){var a=r.getProgramInfoLog(e);return fre.error("Error al vincular el webGLProgram: "+a),r.deleteProgram(e),null}return e},enumerable:!0},getTypedArrayByType:{value:function(r,t){var e=r;return t==e.BYTE?Int8Array:t==e.UNSIGNED_BYTE||t==e.BOOL||t==e.BOOL_VEC2||t==e.BOOL_VEC3||t==e.BOOL_VEC4?Uint8Array:t==e.SHORT?Int16Array:t==e.UNSIGNED_SHORT?Uint16Array:t==e.INT||t==e.INT_VEC2||t==e.INT_VEC3||t==e.INT_VEC4?Int32Array:t==e.UNSIGNED_INT?Uint32Array:t==e.FLOAT||t==e.FLOAT_VEC2||t==e.FLOAT_VEC3||t==e.FLOAT_VEC4||t==e.FLOAT_MAT2||t==e.FLOAT_MAT3||t==e.FLOAT_MAT4?Float32Array:null},enumerable:!0},getSetterNameByType:{value:function(r,t,e){var n=r;return e==n.FLOAT?t+"1fv":e==n.FLOAT_VEC2?t+"2fv":e==n.FLOAT_VEC3?t+"3fv":e==n.FLOAT_VEC4?t+"4fv":e==n.INT?t+"1iv":e==n.INT_VEC2?t+"2iv":e==n.INT_VEC3?t+"3iv":e==n.INT_VEC4?t+"4iv":e==n.BOOL?t+"1iv":e==n.BOOL_VEC2?t+"2iv":e==n.BOOL_VEC3?t+"3iv":e==n.BOOL_VEC4?t+"4iv":e==n.FLOAT_MAT2?t+"Matrix2fv":e==n.FLOAT_MAT3?t+"Matrix3fv":e==n.FLOAT_MAT4?t+"Matrix4fv":(fre.error("Error: tipo desconocido 0x"+e.toString(16)),"")},enumerable:!0},getGLTypeByTypedArray:{value:function(r,t){var e=r;return t==Int8Array?e.BYTE:t==Uint8Array?e.UNSIGNED_BYTE:t==Int16Array?e.SHORT:t==Uint16Array?e.UNSIGNED_SHORT:t==Int32Array?e.INT:t==Uint32Array?e.UNSIGNED_INT:t==Float32Array?e.FLOAT:null},enumerable:!0},getAttribute:{value:function(r,t,e){function n(t,e,n){return function(a){n&&(a=new n(a)),r[t](e,a)}}function a(t){return function(e){var n=e.type||fre.gl.getGLTypeByTypedArray(r,i),a=e.normalized||!1,u=e.stride||0,o=e.offset||0;r.bindBuffer(e.buffer.target,e.buffer.webGLBuffer),r.enableVertexAttribArray(t),r.vertexAttribPointer(t,e.size,n,a,u,o)}}var u=fre.gl.getSetterNameByType(r,"vertexAttrib",e.type);if(!u)return null;var o=r.getAttribLocation(t,e.name),i=fre.gl.getTypedArrayByType(r,e.type),c=Object.create(fre.gl.attribute);return c.name=e.name,c.type=e.type,c.size=e.size,c.index=o,c.set=n(u,o,i),c.setPointer=a(o),c},enumerable:!0},getAttributesCollection:{value:function(r,t){for(var e=Object.create(null,{collection:{value:Object.create(null),enumerable:!0}}),n=r.getProgramParameter(t,r.ACTIVE_ATTRIBUTES),a=0;n>a;a++){var u=r.getActiveAttrib(t,a);if(!u)break;Object.defineProperty(e.collection,u.name,{value:fre.gl.getAttribute(r,t,u),writable:!0,configurable:!0,enumerable:!0})}return Object.defineProperty(e,"set",{value:function(r){var t=e.collection;Object.keys(t).forEach(function(e){var n=t[e],a=r[e];a.buffer?n.setPointer(a):n.set(a)})},enumerable:!0}),e},enumerable:!0},getUniform:{value:function(r,t,e){function n(t,e,n){return/^uniformMatrix[2-4][fi]v$/.test(t)?function(a,u){n&&(a=new n(a)),r[t](e,u,a)}:function(a){n&&(a=new n(a)),r[t](e,a)}}var a=fre.gl.getSetterNameByType(r,"uniform",e.type);if(!a)return null;var u=fre.gl.getTypedArrayByType(r,e.type),o=r.getUniformLocation(t,e.name),i=Object.create(fre.gl.uniform);return i.name=e.name,i.type=e.type,i.size=e.size,i.location=o,i.set=n(a,o,u),i},enumerable:!0},getUniformsCollection:{value:function(r,t){for(var e=Object.create(null,{collection:{value:Object.create(null),enumerable:!0}}),n=r.getProgramParameter(t,r.ACTIVE_UNIFORMS),a=0;n>a;a++){var u=r.getActiveUniform(t,a);if(!u)break;var o=u.name;"[0]"===o.substr(-3)&&(o=o.substr(0,o.length-3)),Object.defineProperty(e.collection,o,{value:fre.gl.getUniform(r,t,u),writable:!0,configurable:!0,enumerable:!0})}return Object.defineProperty(e,"set",{value:function(r){var t=e.collection;Object.keys(t).forEach(function(e){var n=t[e];n.set(r[e])})},enumerable:!0}),e},enumerable:!0},getBuffer:{value:function(r,t,e,n){var a=r.createBuffer();if(!a)return fre.error("Incapaz de crear el webGLBuffer."),null;r.bindBuffer(t,a),r.bufferData(t,e,n);var u=Object.create(fre.gl.buffer);return u.target=t,u.webGLBuffer=a,u},enumerable:!0},shader:{value:r("./shader.js"),enumerable:!0},program:{value:r("./program.js"),enumerable:!0},attribute:{value:r("./attribute.js"),enumerable:!0},uniform:{value:r("./uniform.js"),enumerable:!0},buffer:{value:r("./buffer.js"),enumerable:!0}});Object.preventExtensions(n),t.exports=n},{"./attribute.js":2,"./buffer.js":3,"./program.js":5,"./shader.js":6,"./uniform.js":7}],5:[function(r,t,e){"use strict";var n=Object.create(null,{shaders:{writable:!0,enumerable:!0},attributes:{writable:!0,enumerable:!0},uniforms:{writable:!0,enumerable:!0},webGLProgram:{writable:!0,enumerable:!0}});Object.preventExtensions(n),t.exports=n},{}],6:[function(r,t,e){"use strict";var n=35632,a=35633,u=Object.create(null,{types:{value:[a,n],enumerable:!0},webGLShader:{writable:!0,enumerable:!0}});Object.preventExtensions(u),t.exports=u},{}],7:[function(r,t,e){"use strict";var n=Object.create(null,{name:{writable:!0,enumerable:!0},type:{writable:!0,enumerable:!0},size:{writable:!0,enumerable:!0},location:{writable:!0,enumerable:!0},set:{writable:!0,enumerable:!0}});Object.preventExtensions(n),t.exports=n},{}],8:[function(r,t,e){"use strict";var n=function(r,t,e,n){var a=new XMLHttpRequest;return a.addEventListener("load",function(r){t&&t(r,this)},!1),e&&a.addEventListener("progress",function(r){e(r)},!1),n&&a.addEventListener("error",function(r){n(r)},!1),a.open("GET",r,!0),a.send(),a};Object.preventExtensions(n),t.exports=n},{}],9:[function(r,t,e){"use strict";var n=Object.create(null,{ajax:{value:r("./ajax"),enumerable:!0}});Object.preventExtensions(n),t.exports=n},{"./ajax":8}],10:[function(r,t,e){"use strict";var n=r("../../vendor/gl-matrix/dist/gl-matrix-min.js");Object.preventExtensions(n),t.exports=n},{"../../vendor/gl-matrix/dist/gl-matrix-min.js":11}],11:[function(r,t,e){!function(r,n){if("object"==typeof e&&"object"==typeof t)t.exports=n();else if("function"==typeof define&&define.amd)define(n);else{var a=n();for(var u in a)("object"==typeof e?e:r)[u]=a[u]}}(this,function(){return function(r){function t(n){if(e[n])return e[n].exports;var a=e[n]={exports:{},id:n,loaded:!1};return r[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var e={};return t.m=r,t.c=e,t.p="",t(0)}([function(r,t,e){t.glMatrix=e(1),t.mat2=e(2),t.mat2d=e(3),t.mat3=e(4),t.mat4=e(5),t.quat=e(6),t.vec2=e(9),t.vec3=e(7),t.vec4=e(8)},function(r,t){var e={};e.EPSILON=1e-6,e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random,e.setMatrixArrayType=function(r){GLMAT_ARRAY_TYPE=r};var n=Math.PI/180;e.toRadian=function(r){return r*n},r.exports=e},function(r,t,e){var n=e(1),a={};a.create=function(){var r=new n.ARRAY_TYPE(4);return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r},a.clone=function(r){var t=new n.ARRAY_TYPE(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},a.copy=function(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},a.identity=function(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r},a.transpose=function(r,t){if(r===t){var e=t[1];r[1]=t[2],r[2]=e}else r[0]=t[0],r[1]=t[2],r[2]=t[1],r[3]=t[3];return r},a.invert=function(r,t){var e=t[0],n=t[1],a=t[2],u=t[3],o=e*u-a*n;return o?(o=1/o,r[0]=u*o,r[1]=-n*o,r[2]=-a*o,r[3]=e*o,r):null},a.adjoint=function(r,t){var e=t[0];return r[0]=t[3],r[1]=-t[1],r[2]=-t[2],r[3]=e,r},a.determinant=function(r){return r[0]*r[3]-r[2]*r[1]},a.multiply=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=e[0],c=e[1],f=e[2],l=e[3];return r[0]=n*i+u*c,r[1]=a*i+o*c,r[2]=n*f+u*l,r[3]=a*f+o*l,r},a.mul=a.multiply,a.rotate=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=Math.sin(e),c=Math.cos(e);return r[0]=n*c+u*i,r[1]=a*c+o*i,r[2]=n*-i+u*c,r[3]=a*-i+o*c,r},a.scale=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=e[0],c=e[1];return r[0]=n*i,r[1]=a*i,r[2]=u*c,r[3]=o*c,r},a.fromRotation=function(r,t){var e=Math.sin(t),n=Math.cos(t);return r[0]=n,r[1]=e,r[2]=-e,r[3]=n,r},a.fromScaling=function(r,t){return r[0]=t[0],r[1]=0,r[2]=0,r[3]=t[1],r},a.str=function(r){return"mat2("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"},a.frob=function(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)+Math.pow(r[3],2))},a.LDU=function(r,t,e,n){return r[2]=n[2]/n[0],e[0]=n[0],e[1]=n[1],e[3]=n[3]-r[2]*e[1],[r,t,e]},r.exports=a},function(r,t,e){var n=e(1),a={};a.create=function(){var r=new n.ARRAY_TYPE(6);return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r},a.clone=function(r){var t=new n.ARRAY_TYPE(6);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t},a.copy=function(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r},a.identity=function(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r},a.invert=function(r,t){var e=t[0],n=t[1],a=t[2],u=t[3],o=t[4],i=t[5],c=e*u-n*a;return c?(c=1/c,r[0]=u*c,r[1]=-n*c,r[2]=-a*c,r[3]=e*c,r[4]=(a*i-u*o)*c,r[5]=(n*o-e*i)*c,r):null},a.determinant=function(r){return r[0]*r[3]-r[1]*r[2]},a.multiply=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=t[4],c=t[5],f=e[0],l=e[1],s=e[2],v=e[3],m=e[4],h=e[5];return r[0]=n*f+u*l,r[1]=a*f+o*l,r[2]=n*s+u*v,r[3]=a*s+o*v,r[4]=n*m+u*h+i,r[5]=a*m+o*h+c,r},a.mul=a.multiply,a.rotate=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=t[4],c=t[5],f=Math.sin(e),l=Math.cos(e);return r[0]=n*l+u*f,r[1]=a*l+o*f,r[2]=n*-f+u*l,r[3]=a*-f+o*l,r[4]=i,r[5]=c,r},a.scale=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=t[4],c=t[5],f=e[0],l=e[1];return r[0]=n*f,r[1]=a*f,r[2]=u*l,r[3]=o*l,r[4]=i,r[5]=c,r},a.translate=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=t[4],c=t[5],f=e[0],l=e[1];return r[0]=n,r[1]=a,r[2]=u,r[3]=o,r[4]=n*f+u*l+i,r[5]=a*f+o*l+c,r},a.fromRotation=function(r,t){var e=Math.sin(t),n=Math.cos(t);return r[0]=n,r[1]=e,r[2]=-e,r[3]=n,r[4]=0,r[5]=0,r},a.fromScaling=function(r,t){return r[0]=t[0],r[1]=0,r[2]=0,r[3]=t[1],r[4]=0,r[5]=0,r},a.fromTranslation=function(r,t){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=t[0],r[5]=t[1],r},a.str=function(r){return"mat2d("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+")"},a.frob=function(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)+Math.pow(r[3],2)+Math.pow(r[4],2)+Math.pow(r[5],2)+1)},r.exports=a},function(r,t,e){var n=e(1),a={};a.create=function(){var r=new n.ARRAY_TYPE(9);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},a.fromMat4=function(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[4],r[4]=t[5],r[5]=t[6],r[6]=t[8],r[7]=t[9],r[8]=t[10],r},a.clone=function(r){var t=new n.ARRAY_TYPE(9);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},a.copy=function(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r},a.identity=function(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},a.transpose=function(r,t){if(r===t){var e=t[1],n=t[2],a=t[5];r[1]=t[3],r[2]=t[6],r[3]=e,r[5]=t[7],r[6]=n,r[7]=a}else r[0]=t[0],r[1]=t[3],r[2]=t[6],r[3]=t[1],r[4]=t[4],r[5]=t[7],r[6]=t[2],r[7]=t[5],r[8]=t[8];return r},a.invert=function(r,t){var e=t[0],n=t[1],a=t[2],u=t[3],o=t[4],i=t[5],c=t[6],f=t[7],l=t[8],s=l*o-i*f,v=-l*u+i*c,m=f*u-o*c,h=e*s+n*v+a*m;return h?(h=1/h,r[0]=s*h,r[1]=(-l*n+a*f)*h,r[2]=(i*n-a*o)*h,r[3]=v*h,r[4]=(l*e-a*c)*h,r[5]=(-i*e+a*u)*h,r[6]=m*h,r[7]=(-f*e+n*c)*h,r[8]=(o*e-n*u)*h,r):null},a.adjoint=function(r,t){var e=t[0],n=t[1],a=t[2],u=t[3],o=t[4],i=t[5],c=t[6],f=t[7],l=t[8];return r[0]=o*l-i*f,r[1]=a*f-n*l,r[2]=n*i-a*o,r[3]=i*c-u*l,r[4]=e*l-a*c,r[5]=a*u-e*i,r[6]=u*f-o*c,r[7]=n*c-e*f,r[8]=e*o-n*u,r},a.determinant=function(r){var t=r[0],e=r[1],n=r[2],a=r[3],u=r[4],o=r[5],i=r[6],c=r[7],f=r[8];return t*(f*u-o*c)+e*(-f*a+o*i)+n*(c*a-u*i)},a.multiply=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=t[4],c=t[5],f=t[6],l=t[7],s=t[8],v=e[0],m=e[1],h=e[2],M=e[3],d=e[4],b=e[5],p=e[6],g=e[7],A=e[8];return r[0]=v*n+m*o+h*f,r[1]=v*a+m*i+h*l,r[2]=v*u+m*c+h*s,r[3]=M*n+d*o+b*f,r[4]=M*a+d*i+b*l,r[5]=M*u+d*c+b*s,r[6]=p*n+g*o+A*f,r[7]=p*a+g*i+A*l,r[8]=p*u+g*c+A*s,r},a.mul=a.multiply,a.translate=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=t[4],c=t[5],f=t[6],l=t[7],s=t[8],v=e[0],m=e[1];return r[0]=n,r[1]=a,r[2]=u,r[3]=o,r[4]=i,r[5]=c,r[6]=v*n+m*o+f,r[7]=v*a+m*i+l,r[8]=v*u+m*c+s,r},a.rotate=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=t[4],c=t[5],f=t[6],l=t[7],s=t[8],v=Math.sin(e),m=Math.cos(e);return r[0]=m*n+v*o,r[1]=m*a+v*i,r[2]=m*u+v*c,r[3]=m*o-v*n,r[4]=m*i-v*a,r[5]=m*c-v*u,r[6]=f,r[7]=l,r[8]=s,r},a.scale=function(r,t,e){var n=e[0],a=e[1];return r[0]=n*t[0],r[1]=n*t[1],r[2]=n*t[2],r[3]=a*t[3],r[4]=a*t[4],r[5]=a*t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r},a.fromTranslation=function(r,t){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=t[0],r[7]=t[1],r[8]=1,r},a.fromRotation=function(r,t){var e=Math.sin(t),n=Math.cos(t);return r[0]=n,r[1]=e,r[2]=0,r[3]=-e,r[4]=n,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},a.fromScaling=function(r,t){return r[0]=t[0],r[1]=0,r[2]=0,r[3]=0,r[4]=t[1],r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},a.fromMat2d=function(r,t){return r[0]=t[0],r[1]=t[1],r[2]=0,r[3]=t[2],r[4]=t[3],r[5]=0,r[6]=t[4],r[7]=t[5],r[8]=1,r},a.fromQuat=function(r,t){var e=t[0],n=t[1],a=t[2],u=t[3],o=e+e,i=n+n,c=a+a,f=e*o,l=n*o,s=n*i,v=a*o,m=a*i,h=a*c,M=u*o,d=u*i,b=u*c;return r[0]=1-s-h,r[3]=l-b,r[6]=v+d,r[1]=l+b,r[4]=1-f-h,r[7]=m-M,r[2]=v-d,r[5]=m+M,r[8]=1-f-s,r},a.normalFromMat4=function(r,t){var e=t[0],n=t[1],a=t[2],u=t[3],o=t[4],i=t[5],c=t[6],f=t[7],l=t[8],s=t[9],v=t[10],m=t[11],h=t[12],M=t[13],d=t[14],b=t[15],p=e*i-n*o,g=e*c-a*o,A=e*f-u*o,w=n*c-a*i,y=n*f-u*i,T=a*f-u*c,E=l*M-s*h,O=l*d-v*h,x=l*b-m*h,L=s*d-v*M,R=s*b-m*M,S=v*b-m*d,_=p*S-g*R+A*L+w*x-y*O+T*E;return _?(_=1/_,r[0]=(i*S-c*R+f*L)*_,r[1]=(c*x-o*S-f*O)*_,r[2]=(o*R-i*x+f*E)*_,r[3]=(a*R-n*S-u*L)*_,r[4]=(e*S-a*x+u*O)*_,r[5]=(n*x-e*R-u*E)*_,r[6]=(M*T-d*y+b*w)*_,r[7]=(d*A-h*T-b*g)*_,r[8]=(h*y-M*A+b*p)*_,r):null},a.str=function(r){return"mat3("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+")"},a.frob=function(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)+Math.pow(r[3],2)+Math.pow(r[4],2)+Math.pow(r[5],2)+Math.pow(r[6],2)+Math.pow(r[7],2)+Math.pow(r[8],2))},r.exports=a},function(r,t,e){var n=e(1),a={};a.create=function(){var r=new n.ARRAY_TYPE(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},a.clone=function(r){var t=new n.ARRAY_TYPE(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},a.copy=function(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},a.identity=function(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},a.transpose=function(r,t){if(r===t){var e=t[1],n=t[2],a=t[3],u=t[6],o=t[7],i=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=e,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=u,r[11]=t[14],r[12]=a,r[13]=o,r[14]=i}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r},a.invert=function(r,t){var e=t[0],n=t[1],a=t[2],u=t[3],o=t[4],i=t[5],c=t[6],f=t[7],l=t[8],s=t[9],v=t[10],m=t[11],h=t[12],M=t[13],d=t[14],b=t[15],p=e*i-n*o,g=e*c-a*o,A=e*f-u*o,w=n*c-a*i,y=n*f-u*i,T=a*f-u*c,E=l*M-s*h,O=l*d-v*h,x=l*b-m*h,L=s*d-v*M,R=s*b-m*M,S=v*b-m*d,_=p*S-g*R+A*L+w*x-y*O+T*E;return _?(_=1/_,r[0]=(i*S-c*R+f*L)*_,r[1]=(a*R-n*S-u*L)*_,r[2]=(M*T-d*y+b*w)*_,r[3]=(v*y-s*T-m*w)*_,r[4]=(c*x-o*S-f*O)*_,r[5]=(e*S-a*x+u*O)*_,r[6]=(d*A-h*T-b*g)*_,r[7]=(l*T-v*A+m*g)*_,r[8]=(o*R-i*x+f*E)*_,r[9]=(n*x-e*R-u*E)*_,r[10]=(h*y-M*A+b*p)*_,r[11]=(s*A-l*y-m*p)*_,r[12]=(i*O-o*L-c*E)*_,r[13]=(e*L-n*O+a*E)*_,r[14]=(M*g-h*w-d*p)*_,r[15]=(l*w-s*g+v*p)*_,r):null},a.adjoint=function(r,t){var e=t[0],n=t[1],a=t[2],u=t[3],o=t[4],i=t[5],c=t[6],f=t[7],l=t[8],s=t[9],v=t[10],m=t[11],h=t[12],M=t[13],d=t[14],b=t[15];return r[0]=i*(v*b-m*d)-s*(c*b-f*d)+M*(c*m-f*v),r[1]=-(n*(v*b-m*d)-s*(a*b-u*d)+M*(a*m-u*v)),r[2]=n*(c*b-f*d)-i*(a*b-u*d)+M*(a*f-u*c),r[3]=-(n*(c*m-f*v)-i*(a*m-u*v)+s*(a*f-u*c)),r[4]=-(o*(v*b-m*d)-l*(c*b-f*d)+h*(c*m-f*v)),r[5]=e*(v*b-m*d)-l*(a*b-u*d)+h*(a*m-u*v),r[6]=-(e*(c*b-f*d)-o*(a*b-u*d)+h*(a*f-u*c)),r[7]=e*(c*m-f*v)-o*(a*m-u*v)+l*(a*f-u*c),r[8]=o*(s*b-m*M)-l*(i*b-f*M)+h*(i*m-f*s),r[9]=-(e*(s*b-m*M)-l*(n*b-u*M)+h*(n*m-u*s)),r[10]=e*(i*b-f*M)-o*(n*b-u*M)+h*(n*f-u*i),r[11]=-(e*(i*m-f*s)-o*(n*m-u*s)+l*(n*f-u*i)),r[12]=-(o*(s*d-v*M)-l*(i*d-c*M)+h*(i*v-c*s)),r[13]=e*(s*d-v*M)-l*(n*d-a*M)+h*(n*v-a*s),r[14]=-(e*(i*d-c*M)-o*(n*d-a*M)+h*(n*c-a*i)),r[15]=e*(i*v-c*s)-o*(n*v-a*s)+l*(n*c-a*i),r},a.determinant=function(r){var t=r[0],e=r[1],n=r[2],a=r[3],u=r[4],o=r[5],i=r[6],c=r[7],f=r[8],l=r[9],s=r[10],v=r[11],m=r[12],h=r[13],M=r[14],d=r[15],b=t*o-e*u,p=t*i-n*u,g=t*c-a*u,A=e*i-n*o,w=e*c-a*o,y=n*c-a*i,T=f*h-l*m,E=f*M-s*m,O=f*d-v*m,x=l*M-s*h,L=l*d-v*h,R=s*d-v*M;return b*R-p*L+g*x+A*O-w*E+y*T},a.multiply=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=t[4],c=t[5],f=t[6],l=t[7],s=t[8],v=t[9],m=t[10],h=t[11],M=t[12],d=t[13],b=t[14],p=t[15],g=e[0],A=e[1],w=e[2],y=e[3];return r[0]=g*n+A*i+w*s+y*M,r[1]=g*a+A*c+w*v+y*d,r[2]=g*u+A*f+w*m+y*b,r[3]=g*o+A*l+w*h+y*p,g=e[4],A=e[5],w=e[6],y=e[7],r[4]=g*n+A*i+w*s+y*M,r[5]=g*a+A*c+w*v+y*d,r[6]=g*u+A*f+w*m+y*b,r[7]=g*o+A*l+w*h+y*p,g=e[8],A=e[9],w=e[10],y=e[11],r[8]=g*n+A*i+w*s+y*M,r[9]=g*a+A*c+w*v+y*d,r[10]=g*u+A*f+w*m+y*b,r[11]=g*o+A*l+w*h+y*p,g=e[12],A=e[13],w=e[14],y=e[15],r[12]=g*n+A*i+w*s+y*M,r[13]=g*a+A*c+w*v+y*d,r[14]=g*u+A*f+w*m+y*b,r[15]=g*o+A*l+w*h+y*p,r},a.mul=a.multiply,a.translate=function(r,t,e){var n,a,u,o,i,c,f,l,s,v,m,h,M=e[0],d=e[1],b=e[2];return t===r?(r[12]=t[0]*M+t[4]*d+t[8]*b+t[12],r[13]=t[1]*M+t[5]*d+t[9]*b+t[13],r[14]=t[2]*M+t[6]*d+t[10]*b+t[14],r[15]=t[3]*M+t[7]*d+t[11]*b+t[15]):(n=t[0],a=t[1],u=t[2],o=t[3],i=t[4],c=t[5],f=t[6],l=t[7],s=t[8],v=t[9],m=t[10],h=t[11],r[0]=n,r[1]=a,r[2]=u,r[3]=o,r[4]=i,r[5]=c,r[6]=f,r[7]=l,r[8]=s,r[9]=v,r[10]=m,r[11]=h,r[12]=n*M+i*d+s*b+t[12],r[13]=a*M+c*d+v*b+t[13],r[14]=u*M+f*d+m*b+t[14],r[15]=o*M+l*d+h*b+t[15]),r},a.scale=function(r,t,e){var n=e[0],a=e[1],u=e[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*a,r[5]=t[5]*a,r[6]=t[6]*a,r[7]=t[7]*a,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},a.rotate=function(r,t,e,a){var u,o,i,c,f,l,s,v,m,h,M,d,b,p,g,A,w,y,T,E,O,x,L,R,S=a[0],_=a[1],P=a[2],j=Math.sqrt(S*S+_*_+P*P);return Math.abs(j)<n.EPSILON?null:(j=1/j,S*=j,_*=j,P*=j,u=Math.sin(e),o=Math.cos(e),i=1-o,c=t[0],f=t[1],l=t[2],s=t[3],v=t[4],m=t[5],h=t[6],M=t[7],d=t[8],b=t[9],p=t[10],g=t[11],A=S*S*i+o,w=_*S*i+P*u,y=P*S*i-_*u,T=S*_*i-P*u,E=_*_*i+o,O=P*_*i+S*u,x=S*P*i+_*u,L=_*P*i-S*u,R=P*P*i+o,r[0]=c*A+v*w+d*y,r[1]=f*A+m*w+b*y,r[2]=l*A+h*w+p*y,r[3]=s*A+M*w+g*y,r[4]=c*T+v*E+d*O,r[5]=f*T+m*E+b*O,r[6]=l*T+h*E+p*O,r[7]=s*T+M*E+g*O,r[8]=c*x+v*L+d*R,r[9]=f*x+m*L+b*R,r[10]=l*x+h*L+p*R,r[11]=s*x+M*L+g*R,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)},a.rotateX=function(r,t,e){var n=Math.sin(e),a=Math.cos(e),u=t[4],o=t[5],i=t[6],c=t[7],f=t[8],l=t[9],s=t[10],v=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*a+f*n,r[5]=o*a+l*n,r[6]=i*a+s*n,r[7]=c*a+v*n,r[8]=f*a-u*n,r[9]=l*a-o*n,r[10]=s*a-i*n,r[11]=v*a-c*n,r},a.rotateY=function(r,t,e){var n=Math.sin(e),a=Math.cos(e),u=t[0],o=t[1],i=t[2],c=t[3],f=t[8],l=t[9],s=t[10],v=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*a-f*n,r[1]=o*a-l*n,r[2]=i*a-s*n,r[3]=c*a-v*n,r[8]=u*n+f*a,r[9]=o*n+l*a,r[10]=i*n+s*a,r[11]=c*n+v*a,r},a.rotateZ=function(r,t,e){var n=Math.sin(e),a=Math.cos(e),u=t[0],o=t[1],i=t[2],c=t[3],f=t[4],l=t[5],s=t[6],v=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*a+f*n,r[1]=o*a+l*n,r[2]=i*a+s*n,r[3]=c*a+v*n,r[4]=f*a-u*n,r[5]=l*a-o*n,r[6]=s*a-i*n,r[7]=v*a-c*n,r},a.fromTranslation=function(r,t){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r},a.fromScaling=function(r,t){return r[0]=t[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=t[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=t[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},a.fromRotation=function(r,t,e){var a,u,o,i=e[0],c=e[1],f=e[2],l=Math.sqrt(i*i+c*c+f*f);return Math.abs(l)<n.EPSILON?null:(l=1/l,i*=l,c*=l,f*=l,a=Math.sin(t),u=Math.cos(t),o=1-u,r[0]=i*i*o+u,r[1]=c*i*o+f*a,r[2]=f*i*o-c*a,r[3]=0,r[4]=i*c*o-f*a,r[5]=c*c*o+u,r[6]=f*c*o+i*a,r[7]=0,r[8]=i*f*o+c*a,r[9]=c*f*o-i*a,r[10]=f*f*o+u,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)},a.fromXRotation=function(r,t){var e=Math.sin(t),n=Math.cos(t);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n,r[6]=e,r[7]=0,r[8]=0,r[9]=-e,r[10]=n,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},a.fromYRotation=function(r,t){var e=Math.sin(t),n=Math.cos(t);return r[0]=n,r[1]=0,r[2]=-e,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=e,r[9]=0,r[10]=n,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},a.fromZRotation=function(r,t){var e=Math.sin(t),n=Math.cos(t);return r[0]=n,r[1]=e,r[2]=0,r[3]=0,r[4]=-e,r[5]=n,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},a.fromRotationTranslation=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=n+n,c=a+a,f=u+u,l=n*i,s=n*c,v=n*f,m=a*c,h=a*f,M=u*f,d=o*i,b=o*c,p=o*f;return r[0]=1-(m+M),r[1]=s+p,r[2]=v-b,r[3]=0,r[4]=s-p,r[5]=1-(l+M),r[6]=h+d,r[7]=0,r[8]=v+b,r[9]=h-d,r[10]=1-(l+m),r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r},a.fromRotationTranslationScale=function(r,t,e,n){var a=t[0],u=t[1],o=t[2],i=t[3],c=a+a,f=u+u,l=o+o,s=a*c,v=a*f,m=a*l,h=u*f,M=u*l,d=o*l,b=i*c,p=i*f,g=i*l,A=n[0],w=n[1],y=n[2];return r[0]=(1-(h+d))*A,r[1]=(v+g)*A,r[2]=(m-p)*A,r[3]=0,r[4]=(v-g)*w,r[5]=(1-(s+d))*w,r[6]=(M+b)*w,r[7]=0,r[8]=(m+p)*y,r[9]=(M-b)*y,r[10]=(1-(s+h))*y,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r},a.fromRotationTranslationScaleOrigin=function(r,t,e,n,a){var u=t[0],o=t[1],i=t[2],c=t[3],f=u+u,l=o+o,s=i+i,v=u*f,m=u*l,h=u*s,M=o*l,d=o*s,b=i*s,p=c*f,g=c*l,A=c*s,w=n[0],y=n[1],T=n[2],E=a[0],O=a[1],x=a[2];return r[0]=(1-(M+b))*w,r[1]=(m+A)*w,r[2]=(h-g)*w,r[3]=0,r[4]=(m-A)*y,r[5]=(1-(v+b))*y,r[6]=(d+p)*y,r[7]=0,r[8]=(h+g)*T,r[9]=(d-p)*T,r[10]=(1-(v+M))*T,r[11]=0,r[12]=e[0]+E-(r[0]*E+r[4]*O+r[8]*x),r[13]=e[1]+O-(r[1]*E+r[5]*O+r[9]*x),r[14]=e[2]+x-(r[2]*E+r[6]*O+r[10]*x),r[15]=1,r},a.fromQuat=function(r,t){var e=t[0],n=t[1],a=t[2],u=t[3],o=e+e,i=n+n,c=a+a,f=e*o,l=n*o,s=n*i,v=a*o,m=a*i,h=a*c,M=u*o,d=u*i,b=u*c;return r[0]=1-s-h,r[1]=l+b,r[2]=v-d,r[3]=0,r[4]=l-b,r[5]=1-f-h,r[6]=m+M,r[7]=0,r[8]=v+d,r[9]=m-M,r[10]=1-f-s,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},a.frustum=function(r,t,e,n,a,u,o){var i=1/(e-t),c=1/(a-n),f=1/(u-o);return r[0]=2*u*i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2*u*c,r[6]=0,r[7]=0,r[8]=(e+t)*i,r[9]=(a+n)*c,r[10]=(o+u)*f,r[11]=-1,r[12]=0,r[13]=0,r[14]=o*u*2*f,r[15]=0,r},a.perspective=function(r,t,e,n,a){var u=1/Math.tan(t/2),o=1/(n-a);return r[0]=u/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(a+n)*o,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*a*n*o,r[15]=0,r},a.perspectiveFromFieldOfView=function(r,t,e,n){var a=Math.tan(t.upDegrees*Math.PI/180),u=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),i=Math.tan(t.rightDegrees*Math.PI/180),c=2/(o+i),f=2/(a+u);return r[0]=c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=f,r[6]=0,r[7]=0,r[8]=-((o-i)*c*.5),r[9]=(a-u)*f*.5,r[10]=n/(e-n),r[11]=-1,r[12]=0,r[13]=0,r[14]=n*e/(e-n),r[15]=0,r},a.ortho=function(r,t,e,n,a,u,o){var i=1/(t-e),c=1/(n-a),f=1/(u-o);return r[0]=-2*i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*c,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*f,r[11]=0,r[12]=(t+e)*i,r[13]=(a+n)*c,r[14]=(o+u)*f,r[15]=1,r},a.lookAt=function(r,t,e,u){var o,i,c,f,l,s,v,m,h,M,d=t[0],b=t[1],p=t[2],g=u[0],A=u[1],w=u[2],y=e[0],T=e[1],E=e[2];return Math.abs(d-y)<n.EPSILON&&Math.abs(b-T)<n.EPSILON&&Math.abs(p-E)<n.EPSILON?a.identity(r):(v=d-y,m=b-T,h=p-E,M=1/Math.sqrt(v*v+m*m+h*h),v*=M,m*=M,h*=M,o=A*h-w*m,i=w*v-g*h,c=g*m-A*v,M=Math.sqrt(o*o+i*i+c*c),M?(M=1/M,o*=M,i*=M,c*=M):(o=0,i=0,c=0),f=m*c-h*i,l=h*o-v*c,s=v*i-m*o,M=Math.sqrt(f*f+l*l+s*s),M?(M=1/M,f*=M,l*=M,s*=M):(f=0,l=0,s=0),r[0]=o,r[1]=f,r[2]=v,r[3]=0,r[4]=i,r[5]=l,r[6]=m,r[7]=0,r[8]=c,r[9]=s,r[10]=h,r[11]=0,r[12]=-(o*d+i*b+c*p),r[13]=-(f*d+l*b+s*p),r[14]=-(v*d+m*b+h*p),r[15]=1,r)},a.str=function(r){return"mat4("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+", "+r[9]+", "+r[10]+", "+r[11]+", "+r[12]+", "+r[13]+", "+r[14]+", "+r[15]+")"},a.frob=function(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)+Math.pow(r[3],2)+Math.pow(r[4],2)+Math.pow(r[5],2)+Math.pow(r[6],2)+Math.pow(r[7],2)+Math.pow(r[8],2)+Math.pow(r[9],2)+Math.pow(r[10],2)+Math.pow(r[11],2)+Math.pow(r[12],2)+Math.pow(r[13],2)+Math.pow(r[14],2)+Math.pow(r[15],2))},r.exports=a},function(r,t,e){var n=e(1),a=e(4),u=e(7),o=e(8),i={};i.create=function(){var r=new n.ARRAY_TYPE(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r},i.rotationTo=function(){var r=u.create(),t=u.fromValues(1,0,0),e=u.fromValues(0,1,0);return function(n,a,o){var c=u.dot(a,o);return-.999999>c?(u.cross(r,t,a),u.length(r)<1e-6&&u.cross(r,e,a),u.normalize(r,r),i.setAxisAngle(n,r,Math.PI),n):c>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(u.cross(r,a,o),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=1+c,i.normalize(n,n))}}(),i.setAxes=function(){var r=a.create();return function(t,e,n,a){return r[0]=n[0],r[3]=n[1],r[6]=n[2],r[1]=a[0],r[4]=a[1],r[7]=a[2],r[2]=-e[0],r[5]=-e[1],r[8]=-e[2],i.normalize(t,i.fromMat3(t,r))}}(),i.clone=o.clone,i.fromValues=o.fromValues,i.copy=o.copy,i.set=o.set,i.identity=function(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r},i.setAxisAngle=function(r,t,e){e=.5*e;var n=Math.sin(e);return r[0]=n*t[0],r[1]=n*t[1],r[2]=n*t[2],r[3]=Math.cos(e),r},i.add=o.add,i.multiply=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3],i=e[0],c=e[1],f=e[2],l=e[3];return r[0]=n*l+o*i+a*f-u*c,r[1]=a*l+o*c+u*i-n*f,r[2]=u*l+o*f+n*c-a*i,r[3]=o*l-n*i-a*c-u*f,r},i.mul=i.multiply,i.scale=o.scale,i.rotateX=function(r,t,e){e*=.5;var n=t[0],a=t[1],u=t[2],o=t[3],i=Math.sin(e),c=Math.cos(e);return r[0]=n*c+o*i,r[1]=a*c+u*i,r[2]=u*c-a*i,r[3]=o*c-n*i,r},i.rotateY=function(r,t,e){e*=.5;var n=t[0],a=t[1],u=t[2],o=t[3],i=Math.sin(e),c=Math.cos(e);return r[0]=n*c-u*i,r[1]=a*c+o*i,r[2]=u*c+n*i,r[3]=o*c-a*i,r},i.rotateZ=function(r,t,e){e*=.5;var n=t[0],a=t[1],u=t[2],o=t[3],i=Math.sin(e),c=Math.cos(e);return r[0]=n*c+a*i,r[1]=a*c-n*i,r[2]=u*c+o*i,r[3]=o*c-u*i,r},i.calculateW=function(r,t){var e=t[0],n=t[1],a=t[2];return r[0]=e,r[1]=n,r[2]=a,r[3]=Math.sqrt(Math.abs(1-e*e-n*n-a*a)),r},i.dot=o.dot,i.lerp=o.lerp,i.slerp=function(r,t,e,n){var a,u,o,i,c,f=t[0],l=t[1],s=t[2],v=t[3],m=e[0],h=e[1],M=e[2],d=e[3];return u=f*m+l*h+s*M+v*d,0>u&&(u=-u,m=-m,h=-h,M=-M,d=-d),1-u>1e-6?(a=Math.acos(u),o=Math.sin(a),i=Math.sin((1-n)*a)/o,c=Math.sin(n*a)/o):(i=1-n,c=n),r[0]=i*f+c*m,r[1]=i*l+c*h,r[2]=i*s+c*M,r[3]=i*v+c*d,r},i.sqlerp=function(){var r=i.create(),t=i.create();return function(e,n,a,u,o,c){return i.slerp(r,n,o,c),i.slerp(t,a,u,c),i.slerp(e,r,t,2*c*(1-c)),e}}(),i.invert=function(r,t){var e=t[0],n=t[1],a=t[2],u=t[3],o=e*e+n*n+a*a+u*u,i=o?1/o:0;return r[0]=-e*i,r[1]=-n*i,r[2]=-a*i,r[3]=u*i,r},i.conjugate=function(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=t[3],r},i.length=o.length,i.len=i.length,i.squaredLength=o.squaredLength,i.sqrLen=i.squaredLength,i.normalize=o.normalize,i.fromMat3=function(r,t){var e,n=t[0]+t[4]+t[8];if(n>0)e=Math.sqrt(n+1),r[3]=.5*e,e=.5/e,r[0]=(t[5]-t[7])*e,r[1]=(t[6]-t[2])*e,r[2]=(t[1]-t[3])*e;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var u=(a+1)%3,o=(a+2)%3;e=Math.sqrt(t[3*a+a]-t[3*u+u]-t[3*o+o]+1),r[a]=.5*e,e=.5/e,r[3]=(t[3*u+o]-t[3*o+u])*e,r[u]=(t[3*u+a]+t[3*a+u])*e,r[o]=(t[3*o+a]+t[3*a+o])*e}return r},i.str=function(r){return"quat("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"},r.exports=i},function(r,t,e){var n=e(1),a={};a.create=function(){var r=new n.ARRAY_TYPE(3);return r[0]=0,r[1]=0,r[2]=0,r},a.clone=function(r){var t=new n.ARRAY_TYPE(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t},a.fromValues=function(r,t,e){var a=new n.ARRAY_TYPE(3);return a[0]=r,a[1]=t,a[2]=e,a},a.copy=function(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},a.set=function(r,t,e,n){return r[0]=t,r[1]=e,r[2]=n,r},a.add=function(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r},a.subtract=function(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r[2]=t[2]-e[2],r},a.sub=a.subtract,a.multiply=function(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r[2]=t[2]*e[2],r},a.mul=a.multiply,a.divide=function(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r[2]=t[2]/e[2],r},a.div=a.divide,a.min=function(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),
r[2]=Math.min(t[2],e[2]),r},a.max=function(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r[2]=Math.max(t[2],e[2]),r},a.scale=function(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r},a.scaleAndAdd=function(r,t,e,n){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r[2]=t[2]+e[2]*n,r},a.distance=function(r,t){var e=t[0]-r[0],n=t[1]-r[1],a=t[2]-r[2];return Math.sqrt(e*e+n*n+a*a)},a.dist=a.distance,a.squaredDistance=function(r,t){var e=t[0]-r[0],n=t[1]-r[1],a=t[2]-r[2];return e*e+n*n+a*a},a.sqrDist=a.squaredDistance,a.length=function(r){var t=r[0],e=r[1],n=r[2];return Math.sqrt(t*t+e*e+n*n)},a.len=a.length,a.squaredLength=function(r){var t=r[0],e=r[1],n=r[2];return t*t+e*e+n*n},a.sqrLen=a.squaredLength,a.negate=function(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r},a.inverse=function(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r},a.normalize=function(r,t){var e=t[0],n=t[1],a=t[2],u=e*e+n*n+a*a;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r},a.dot=function(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]},a.cross=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=e[0],i=e[1],c=e[2];return r[0]=a*c-u*i,r[1]=u*o-n*c,r[2]=n*i-a*o,r},a.lerp=function(r,t,e,n){var a=t[0],u=t[1],o=t[2];return r[0]=a+n*(e[0]-a),r[1]=u+n*(e[1]-u),r[2]=o+n*(e[2]-o),r},a.hermite=function(r,t,e,n,a,u){var o=u*u,i=o*(2*u-3)+1,c=o*(u-2)+u,f=o*(u-1),l=o*(3-2*u);return r[0]=t[0]*i+e[0]*c+n[0]*f+a[0]*l,r[1]=t[1]*i+e[1]*c+n[1]*f+a[1]*l,r[2]=t[2]*i+e[2]*c+n[2]*f+a[2]*l,r},a.bezier=function(r,t,e,n,a,u){var o=1-u,i=o*o,c=u*u,f=i*o,l=3*u*i,s=3*c*o,v=c*u;return r[0]=t[0]*f+e[0]*l+n[0]*s+a[0]*v,r[1]=t[1]*f+e[1]*l+n[1]*s+a[1]*v,r[2]=t[2]*f+e[2]*l+n[2]*s+a[2]*v,r},a.random=function(r,t){t=t||1;var e=2*n.RANDOM()*Math.PI,a=2*n.RANDOM()-1,u=Math.sqrt(1-a*a)*t;return r[0]=Math.cos(e)*u,r[1]=Math.sin(e)*u,r[2]=a*t,r},a.transformMat4=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=e[3]*n+e[7]*a+e[11]*u+e[15];return o=o||1,r[0]=(e[0]*n+e[4]*a+e[8]*u+e[12])/o,r[1]=(e[1]*n+e[5]*a+e[9]*u+e[13])/o,r[2]=(e[2]*n+e[6]*a+e[10]*u+e[14])/o,r},a.transformMat3=function(r,t,e){var n=t[0],a=t[1],u=t[2];return r[0]=n*e[0]+a*e[3]+u*e[6],r[1]=n*e[1]+a*e[4]+u*e[7],r[2]=n*e[2]+a*e[5]+u*e[8],r},a.transformQuat=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=e[0],i=e[1],c=e[2],f=e[3],l=f*n+i*u-c*a,s=f*a+c*n-o*u,v=f*u+o*a-i*n,m=-o*n-i*a-c*u;return r[0]=l*f+m*-o+s*-c-v*-i,r[1]=s*f+m*-i+v*-o-l*-c,r[2]=v*f+m*-c+l*-i-s*-o,r},a.rotateX=function(r,t,e,n){var a=[],u=[];return a[0]=t[0]-e[0],a[1]=t[1]-e[1],a[2]=t[2]-e[2],u[0]=a[0],u[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),u[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),r[0]=u[0]+e[0],r[1]=u[1]+e[1],r[2]=u[2]+e[2],r},a.rotateY=function(r,t,e,n){var a=[],u=[];return a[0]=t[0]-e[0],a[1]=t[1]-e[1],a[2]=t[2]-e[2],u[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),u[1]=a[1],u[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),r[0]=u[0]+e[0],r[1]=u[1]+e[1],r[2]=u[2]+e[2],r},a.rotateZ=function(r,t,e,n){var a=[],u=[];return a[0]=t[0]-e[0],a[1]=t[1]-e[1],a[2]=t[2]-e[2],u[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),u[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),u[2]=a[2],r[0]=u[0]+e[0],r[1]=u[1]+e[1],r[2]=u[2]+e[2],r},a.forEach=function(){var r=a.create();return function(t,e,n,a,u,o){var i,c;for(e||(e=3),n||(n=0),c=a?Math.min(a*e+n,t.length):t.length,i=n;c>i;i+=e)r[0]=t[i],r[1]=t[i+1],r[2]=t[i+2],u(r,r,o),t[i]=r[0],t[i+1]=r[1],t[i+2]=r[2];return t}}(),a.angle=function(r,t){var e=a.fromValues(r[0],r[1],r[2]),n=a.fromValues(t[0],t[1],t[2]);a.normalize(e,e),a.normalize(n,n);var u=a.dot(e,n);return u>1?0:Math.acos(u)},a.str=function(r){return"vec3("+r[0]+", "+r[1]+", "+r[2]+")"},r.exports=a},function(r,t,e){var n=e(1),a={};a.create=function(){var r=new n.ARRAY_TYPE(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r},a.clone=function(r){var t=new n.ARRAY_TYPE(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},a.fromValues=function(r,t,e,a){var u=new n.ARRAY_TYPE(4);return u[0]=r,u[1]=t,u[2]=e,u[3]=a,u},a.copy=function(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},a.set=function(r,t,e,n,a){return r[0]=t,r[1]=e,r[2]=n,r[3]=a,r},a.add=function(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r[3]=t[3]+e[3],r},a.subtract=function(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r[2]=t[2]-e[2],r[3]=t[3]-e[3],r},a.sub=a.subtract,a.multiply=function(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r[2]=t[2]*e[2],r[3]=t[3]*e[3],r},a.mul=a.multiply,a.divide=function(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r[2]=t[2]/e[2],r[3]=t[3]/e[3],r},a.div=a.divide,a.min=function(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r[2]=Math.min(t[2],e[2]),r[3]=Math.min(t[3],e[3]),r},a.max=function(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r[2]=Math.max(t[2],e[2]),r[3]=Math.max(t[3],e[3]),r},a.scale=function(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r[3]=t[3]*e,r},a.scaleAndAdd=function(r,t,e,n){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r[2]=t[2]+e[2]*n,r[3]=t[3]+e[3]*n,r},a.distance=function(r,t){var e=t[0]-r[0],n=t[1]-r[1],a=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(e*e+n*n+a*a+u*u)},a.dist=a.distance,a.squaredDistance=function(r,t){var e=t[0]-r[0],n=t[1]-r[1],a=t[2]-r[2],u=t[3]-r[3];return e*e+n*n+a*a+u*u},a.sqrDist=a.squaredDistance,a.length=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return Math.sqrt(t*t+e*e+n*n+a*a)},a.len=a.length,a.squaredLength=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return t*t+e*e+n*n+a*a},a.sqrLen=a.squaredLength,a.negate=function(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r},a.inverse=function(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r},a.normalize=function(r,t){var e=t[0],n=t[1],a=t[2],u=t[3],o=e*e+n*n+a*a+u*u;return o>0&&(o=1/Math.sqrt(o),r[0]=e*o,r[1]=n*o,r[2]=a*o,r[3]=u*o),r},a.dot=function(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]},a.lerp=function(r,t,e,n){var a=t[0],u=t[1],o=t[2],i=t[3];return r[0]=a+n*(e[0]-a),r[1]=u+n*(e[1]-u),r[2]=o+n*(e[2]-o),r[3]=i+n*(e[3]-i),r},a.random=function(r,t){return t=t||1,r[0]=n.RANDOM(),r[1]=n.RANDOM(),r[2]=n.RANDOM(),r[3]=n.RANDOM(),a.normalize(r,r),a.scale(r,r,t),r},a.transformMat4=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=t[3];return r[0]=e[0]*n+e[4]*a+e[8]*u+e[12]*o,r[1]=e[1]*n+e[5]*a+e[9]*u+e[13]*o,r[2]=e[2]*n+e[6]*a+e[10]*u+e[14]*o,r[3]=e[3]*n+e[7]*a+e[11]*u+e[15]*o,r},a.transformQuat=function(r,t,e){var n=t[0],a=t[1],u=t[2],o=e[0],i=e[1],c=e[2],f=e[3],l=f*n+i*u-c*a,s=f*a+c*n-o*u,v=f*u+o*a-i*n,m=-o*n-i*a-c*u;return r[0]=l*f+m*-o+s*-c-v*-i,r[1]=s*f+m*-i+v*-o-l*-c,r[2]=v*f+m*-c+l*-i-s*-o,r[3]=t[3],r},a.forEach=function(){var r=a.create();return function(t,e,n,a,u,o){var i,c;for(e||(e=4),n||(n=0),c=a?Math.min(a*e+n,t.length):t.length,i=n;c>i;i+=e)r[0]=t[i],r[1]=t[i+1],r[2]=t[i+2],r[3]=t[i+3],u(r,r,o),t[i]=r[0],t[i+1]=r[1],t[i+2]=r[2],t[i+3]=r[3];return t}}(),a.str=function(r){return"vec4("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"},r.exports=a},function(r,t,e){var n=e(1),a={};a.create=function(){var r=new n.ARRAY_TYPE(2);return r[0]=0,r[1]=0,r},a.clone=function(r){var t=new n.ARRAY_TYPE(2);return t[0]=r[0],t[1]=r[1],t},a.fromValues=function(r,t){var e=new n.ARRAY_TYPE(2);return e[0]=r,e[1]=t,e},a.copy=function(r,t){return r[0]=t[0],r[1]=t[1],r},a.set=function(r,t,e){return r[0]=t,r[1]=e,r},a.add=function(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r},a.subtract=function(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r},a.sub=a.subtract,a.multiply=function(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r},a.mul=a.multiply,a.divide=function(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r},a.div=a.divide,a.min=function(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r},a.max=function(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r},a.scale=function(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r},a.scaleAndAdd=function(r,t,e,n){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r},a.distance=function(r,t){var e=t[0]-r[0],n=t[1]-r[1];return Math.sqrt(e*e+n*n)},a.dist=a.distance,a.squaredDistance=function(r,t){var e=t[0]-r[0],n=t[1]-r[1];return e*e+n*n},a.sqrDist=a.squaredDistance,a.length=function(r){var t=r[0],e=r[1];return Math.sqrt(t*t+e*e)},a.len=a.length,a.squaredLength=function(r){var t=r[0],e=r[1];return t*t+e*e},a.sqrLen=a.squaredLength,a.negate=function(r,t){return r[0]=-t[0],r[1]=-t[1],r},a.inverse=function(r,t){return r[0]=1/t[0],r[1]=1/t[1],r},a.normalize=function(r,t){var e=t[0],n=t[1],a=e*e+n*n;return a>0&&(a=1/Math.sqrt(a),r[0]=t[0]*a,r[1]=t[1]*a),r},a.dot=function(r,t){return r[0]*t[0]+r[1]*t[1]},a.cross=function(r,t,e){var n=t[0]*e[1]-t[1]*e[0];return r[0]=r[1]=0,r[2]=n,r},a.lerp=function(r,t,e,n){var a=t[0],u=t[1];return r[0]=a+n*(e[0]-a),r[1]=u+n*(e[1]-u),r},a.random=function(r,t){t=t||1;var e=2*n.RANDOM()*Math.PI;return r[0]=Math.cos(e)*t,r[1]=Math.sin(e)*t,r},a.transformMat2=function(r,t,e){var n=t[0],a=t[1];return r[0]=e[0]*n+e[2]*a,r[1]=e[1]*n+e[3]*a,r},a.transformMat2d=function(r,t,e){var n=t[0],a=t[1];return r[0]=e[0]*n+e[2]*a+e[4],r[1]=e[1]*n+e[3]*a+e[5],r},a.transformMat3=function(r,t,e){var n=t[0],a=t[1];return r[0]=e[0]*n+e[3]*a+e[6],r[1]=e[1]*n+e[4]*a+e[7],r},a.transformMat4=function(r,t,e){var n=t[0],a=t[1];return r[0]=e[0]*n+e[4]*a+e[12],r[1]=e[1]*n+e[5]*a+e[13],r},a.forEach=function(){var r=a.create();return function(t,e,n,a,u,o){var i,c;for(e||(e=2),n||(n=0),c=a?Math.min(a*e+n,t.length):t.length,i=n;c>i;i+=e)r[0]=t[i],r[1]=t[i+1],u(r,r,o),t[i]=r[0],t[i+1]=r[1];return t}}(),a.str=function(r){return"vec2("+r[0]+", "+r[1]+")"},r.exports=a}])})},{}]},{},[1]);